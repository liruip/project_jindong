<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!-- 引入初始化页面 -->
    <link rel="stylesheet" href="css/base.css">
    <!-- 引入css样式 -->
    <link rel="stylesheet" href="css/register.css">
    <!-- 引入js -->
    <script src="js/reg.js"></script>
</head>
<body>
    <div class="w">
        <!-- header  -->
        <div class="hearder">
            <div class="hearder_xin w">
                <a href="#" class="hearder_logo fl"></a>
            </div>
        </div>
        <!-- header end -->
        <div class="registerarea">
            <h3>
                新用户注册
                <em>我有账号 <a href="index.html">去登陆</a></em>
            </h3>
            <div class="reg_form">
               <!-- <form action="get_post.php" > -->
                    <ul>
                    <li>
                        <label for="iph">手机号：</label>
                        <input type="text" class="inp" id="iph" name="username">
                        <span class="error">
                        <i class=""></i>
                        <!-- 手机好号不正确，请重新输入 -->
                        </span>
                    </li>
                    <li>
                        <label for="iph">QQ：</label>
                        <input type="text" class="inp" id="qq" name="userqq">
                        <span></span>
                    </li>
                    <li>
                        <label for="iph">昵称：</label>
                        <input type="text" class="inp" id="nc" name="username">
                        <span></span>
                    </li>
                    <li>
                        <label for="dx">短信验证码：</label>
                        <input type="text" class="inp" id="dx"> 
                        <span></span>
                    </li>
                    <li>
                        <label for="dl">登录密码：</label>
                        <input type="password" class="inp" id="dl" name="userpass">
                        <span class="">
                        <!-- <i class="success_ico"></i>
                        恭喜你输入正确 -->
                        </span>
                        <span></span>
                    </li>
                    <li class="safe">
                        安全程度
                        <em class="ruo">弱</em>
                        <em class="zhong">中</em>
                        <em class="qiang">强</em>
                    </li>
                    <li>
                        <label for="cf">重复登录密码：</label>
                        <input type="password" class="inp" id="cf">
                        <span class="">
                        <!-- <i class="success_ico"></i>
                        恭喜你输入正确 -->
                        </span>
                    </li>
                    <li class="agree">
                        <input type="checkbox">同意协议并注册
                        <a href="#">《用户协议》</a>
                    </li>
                    <li>
                        <input type="button" value="完成注册" class="over" id="btn" >
                        <span id="sp"></span>
                    </li>
                </ul>
               <!-- </form> -->
            </div>
        </div>
    </div>
    <!-- footer -->
    <div class="footer">
        <p class="links">
                关于我们  |  联系我们  |  联系客服  |  商家入驻  |  营销中心  |  手机品优购  |  友情链接  |  销售联盟  |  品优购社区  |  品优购公益  |  English Site  |  Contact U
        </p>
        <p class="copyright">
                地址：北京市昌平区建材城西路金燕龙办公楼一层 邮编：100096 电话：400-618-4000 传真：010-82935100 邮箱: zhanghj+itcast.cn
                京ICP备08001421号京公网安备11010800770 
        </p>
    </div>
</body>
</html>

<script>
    var uservalue = document.querySelector("#nc");
    var userps = document.querySelector(".inp");
    var btn = document.querySelector("#btn");
    var sp = document.querySelector("#sp")
    btn.addEventListener("click", function(){
        //创建对象
        var request = new XMLHttpRequest();
        //设置请求参数
        request.open("post", "get_post.php", true);
        //设置回调函数
        request.onreadystatechange = function() {
            if (request.readyState == 4 && request.status == 200) {
                if (request.responseText == "-1") {
                    sp.innerHTML = "用户名已被注册请重新注册";
                }else if (request.responseText == "0"){
                    sp.innerHTML = "注册失败";
                }else if(request.responseText == "1" ){
                    sp.innerHTML = "注册成功";
                }
            }
        }
        //发送请求
        //1）设置请求头
        request.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        let sendstr = `username=${uservalue.value}&userpass=${userps.value}`;
        request.send(sendstr);
    });
</script>



