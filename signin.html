<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="京东JD.COM-专业综合网上购物商城，销售超数万品牌，4020万种商品，囊括家电、手机、电脑、服装、居家、母婴、美妆、个护、食品、旅游等13大品类。京东PLUS会员，免费体验30天！京东秉承客户为先， 100％正品行货保障，提供全国联保，机打发票，专业配送，售后服务！">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>京东(JD.COM)-欢迎登录！</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <!-- 引入css 初始化的css 文件 -->
    <link rel="stylesheet" href="css/base.css">
    <!-- 引入公共样式的css文件 -->
    <link rel="stylesheet" href="css/common.css">
    <!-- 引入登录样式 -->
    <link rel="stylesheet" href="css/signin.css">
    <script src="js/signin.js"></script>
    <script src="js/jquery.in.js"></script>
    
</head>
<body>
    <!-- header部分制作 -->
    <div class="header w">
        <!-- logo -->
       <div class="logo ">
           <h1>
               <a href="index.html" title="京东">京东</a>
           </h1>
           <b class="signin fl">欢迎登陆</b>
       </div>
       <a href="#" class="examine fr"><span></span> 登录页面，问卷调查</a>  
    </div>
    <!-- header部分结束 -->
    <p class="wangluo "> <i></i>  依据《网络安全法》，为保障您的账户安全和正常使      用，   请尽快完成手机号验证！ 新版
       <a href="#"><<隐私与政策>></a>已上线，将更有利于保护您的个人隐私。 
    </p>
    <!-- baaner -->
    <div class="banner ">
        <div class="img_right w">
            <!-- 登录模块 -->
            <div class="img_denglv fr">
                <p> <i></i> 京东不会以任何理由要求您转账汇款，谨防咋骗</p>
               <div class="img_denglv_header">
                 <a href="javascript:;" class="shaoma fl">扫码登录</a>
                <div class="border_line fl"></div>
                 <a href="javascript:;" class="zhanghao fr">账号登录</a>
               </div>
               <div class="max">
                   <div class="max_img fl">
                       <img src="upload/erwei_ma.jpg" alt="">
                   </div>
                   <div class="max_iph fr">
                       <img src="img/phone-orange.png" alt="">
                   </div>
                   <div class="xia_biao">
                       打开
                       <a href="#" class="tyle_red">手机京东</a>
                       扫描二维码
                   </div>
                   <div class="max_bottom">
                       <span class="max_span">
                           <i class="max_ico mian"></i>
                           免输入
                       </span>
                       <span class="max_span">
                            <i class="max_ico kuai"></i>
                            更快
                        </span>
                        <span class="max_span">
                            <i class="max_ico anquan"></i>
                            更快安全
                        </span>
                   </div>
               </div>
               <div class="Account_number" style="display:none">
                   <!-- <form action=""> -->
                        <div id="messageBox" class="baocuo">
                            
                        </div>
                       <div class="user">
                           <label for="" class="user_yonghu fl"></label>
                           <input class="user_input fl"  id="username"  type="text" placeholder="邮箱/用户名/登录手机">
                           <span class="clear_btn" style="display: none"></span>
                       </div>
                       <div class="user">
                           <label for="" class="user_yonghu pas fl"></label>
                           <input class="user_input fl" id="userpass" type="password" placeholder="密码">
                           <span class="clear_btn pass_btn" style="display:none"></span>
                       </div>
                       <span class="forget-pw-safe fr">
                           <a href="//passport.jd.com/uc/links?tag=safe" class="wangji">忘记密码</a>
                       </span>
                       <div class="login-btn">
                           <a href="javesript:;"  id="btnLogin">登&nbsp;&nbsp;&nbsp;&nbsp;录</a>
                       </div>
                   <!-- </form> -->
               </div>
               <div class="img_denglv_bottom">
                   <div class="img_denglv_left">
                       <a href="#" class="img_denglv_left_a fl">
                            <i class="img_denglv_ico"></i>
                            QQ
                       </a>
                       <a href="#" class="img_denglv_left_a img_denglv_weixin  fl">
                            <i class="img_denglv_ico weixin"></i>
                            微信
                       </a>
                       <a href="register.html" class="img_denglv_left_a zhuce fr">
                            <i class="img_denglv_ico liji"></i>
                            立即注册
                       </a> 
                   </div>
               </div>
        </div>
    </div>
      <!-- footer -->
    <div class="footer">
        <p class="links">
                关于我们  |  联系我们  |  联系客服  |  商家入驻  |  营销中心  |  手机品优购  |  友情链接  |  销售联盟  |  品优购社区  |  品优购公益  |  English Site  |  Contact U
        </p>
        <p class="copyright">
                地址：北京市昌平区建材城西路金燕龙办公楼一层 邮编：100096 电话：400-618-4000 传真：010-82935100 邮箱: zhanghj+itcast.cn
                京ICP备08001421号京公网安备11010800770 
        </p>
    </div>
</body>
</html>
<script src="js/cookieTools.js"></script>
<script>

    $("#btnLogin").onclick = function(){
        //1、
        let xhr = new XMLHttpRequest();
    
        xhr.open("post","signin.php",true);
    
        xhr.onreadystatechange = function(){
            if(xhr.readyState==4 && xhr.status==200){

                if(xhr.responseText=="-1"){
                    $(".baocuo").innerHTML = "用户名或者密码不对, 请重新输入！";
                }else{
                    let vipInfo = xhr.responseText;
                    addCookie("vipInfo",JSON.stringify(vipInfo),7);
                    location.href="/project_jindong/index.html";
                }
                console.log(xhr.responseText);
            }
        }
        //post方式：设置请求头
        xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
        //post方式：把传给服务器端数据（键值对）放在send函数的参数里。
        let sendstr = `username=${$("#username").value}&userpass=${$("#userpass").value}`;
        xhr.send(sendstr);
    }
    function $(str){
        if(str.charAt(0)=="#"){
            return document.getElementById(str.substring(1));
        }else if(str.charAt(0)=="."){
            return document.getElementsByClassName(str.substring(1));
        }else{
            return document.getElementsByTagName(str);
        }
    }	
    var max = document.querySelector(".max");
    var shaoma = document.querySelector(".shaoma");
    var Account_number = document.querySelector(".Account_number");
    var zhanghao = document.querySelector(".zhanghao");
    shaoma.addEventListener('click', function(){
        max.style.display = "block";
        this.style.color = "red";
        this.style.fontWeight = 700;
        zhanghao.style.color = "#666";
        zhanghao.style.fontWeight = 100;
        Account_number.style.display = "none";
        Account_number.style.color = "blue";
    });
    zhanghao.addEventListener('click', function(){
        max.style.display = "none";
        this.style.color = "red";
        this.style.fontWeight = 700;
        shaoma.style.color = "#666";
        shaoma.style.fontWeight = 100;
        Account_number.style.display = "block";
    })
    var user_input = document.querySelector(".user_input");
    var  clear_btn = document.querySelector(".clear_btn");
   
    user_input.addEventListener("keyup", function(){
        if(!(this.value =='')) {
            clear_btn.style.display = "block";
            clear_btn.addEventListener('click', function(){
                user_input.value ='';
                this.style.display = "none";
            })
        }else {
            clear_btn.style.display = "none";
        }
    })
    var userpass = document.querySelector("#userpass");
    var pass_btn= document.querySelector(".pass_btn");
    userpass.addEventListener("keyup", function(){
        if(!(this.value == '')) {
            pass_btn.style.display = 'block';
            pass_btn.addEventListener('click', function(){
                userpass.value = '';
                this.style.display = 'none';
            })
        }else {
            pass_btn.style.display = "none";
        }
    })

    </script>
